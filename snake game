<!DOCTYPE html>
<html>
<head>
  <title>Mini Slither</title>
  <style>
    body { margin:0; background:#111; text-align:center; color:white; font-family:Arial; }
    canvas { display:block; margin:0 auto; background:#222; }
    #fullscreenBtn {
      padding: 10px 16px;
      margin: 10px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: #1e293b;
      color: white;
    }
    #fullscreenBtn:hover { background:#334155; }
  </style>
</head>
<body>

<h2>Slither.io – Mini Version</h2>
<button id="fullscreenBtn" onclick="goFullscreen()">⛶ Fullscreen</button>
<canvas id="gameCanvas" width="600" height="400"></canvas>
<p>Controls: Arrow keys</p>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

let snake = [{x:300,y:200}];
let dir = {x:10,y:0};
let food = {x: Math.floor(Math.random()*60)*10, y:Math.floor(Math.random()*40)*10};
let score = 0;

document.addEventListener('keydown', e => {
  if(e.key==='ArrowLeft' && dir.x===0){dir={x:-10,y:0}}
  if(e.key==='ArrowRight' && dir.x===0){dir={x:10,y:0}}
  if(e.key==='ArrowUp' && dir.y===0){dir={x:0,y:-10}}
  if(e.key==='ArrowDown' && dir.y===0){dir={x:0,y:10}}
});

function update() {
  let head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};
  
  // Check collisions with walls
  if(head.x<0 || head.x>=canvas.width || head.y<0 || head.y>=canvas.height){
    snake = [{x:300,y:200}]; score=0; dir={x:10,y:0};
  }

  snake.unshift(head);

  // Eating food
  if(head.x === food.x && head.y === food.y){
    score++;
    food = {x: Math.floor(Math.random()*60)*10, y:Math.floor(Math.random()*40)*10};
  } else { snake.pop(); }

  draw();
  setTimeout(update,100);
}

function draw() {
  ctx.fillStyle = "#222"; ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="lime"; snake.forEach(s=>ctx.fillRect(s.x,s.y,10,10));
  ctx.fillStyle="red"; ctx.fillRect(food.x,food.y,10,10);
  ctx.fillStyle="white"; ctx.fillText("Score: "+score,10,20);
}

// Fullscreen
function goFullscreen(){
  if(canvas.requestFullscreen) canvas.requestFullscreen();
  else if(canvas.webkitRequestFullscreen) canvas.webkitRequestFullscreen();
}

// Desktop-only
if (/Mobi|Android|iPhone|iPad/i.test(navigator.userAgent)){
  document.body.innerHTML="<h2>Desktop only game.</h2>";
}

update();
</script>

</body>
</html>